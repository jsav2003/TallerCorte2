@startuml SecuenciaCrearFigura
title Diagrama de Secuencia - Crear Nueva Figura

actor Usuario as U
participant "Main" as M
participant "Gestionar" as G
participant "LectorEntrada" as LE
participant "FiguraFactory" as FF
participant "Circulo" as C
participant "GeneradorID" as GID
participant "RepositorioFiguras" as RF

U -> M : ejecutar programa
activate M
M -> G : main()
activate G

G -> G : mostrar_menu_principal()
G -> LE : leer_entero("Seleccione opciÃ³n", 1, 11)
activate LE
LE --> G : opcion = 1 (Crear figura)
deactivate LE

G -> G : procesar_opcion(1)
G -> G : crear_figura()

G -> FF : tipos_disponibles()
activate FF
FF --> G : ["Circulo", "Cuadrado", "Cubo", "Esfera"]
deactivate FF

G -> LE : leer_entero("Seleccione tipo", 1, 4)
activate LE
LE --> G : tipo_seleccionado = 1 (Circulo)
deactivate LE

G -> LE : leer_flotante("Ingrese radio", 0.001)
activate LE
LE --> G : radio = 5.0
deactivate LE

G -> FF : crear_figura("Circulo", [5.0])
activate FF
FF -> C : new Circulo(5.0)
activate C
C -> GID : obtener_siguiente_id()
activate GID
GID --> C : id_figura = 1
deactivate GID
C --> FF : circulo_creado
deactivate C
FF --> G : figura_creada
deactivate FF

G -> RF : almacenar_figura(figura_creada)
activate RF
RF --> G : id_figura = 1
deactivate RF

G --> U : "Figura creada exitosamente"

deactivate G
deactivate M

@enduml
